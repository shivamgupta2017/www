<ion-view cache-view="false" view-title="{{'changePassword' | translate}}">
  <ion-nav-buttons side="left">
    <button class="button button-icon button-clear ion-navicon" menu-toggle="left"> </button>
  </ion-nav-buttons>

  <!--<ion-nav-buttons side="right">
    <button class="button button-icon button-clear jsm-home" ng-click="home()"></button>
  </ion-nav-buttons>-->

  <ion-nav-buttons side="right">
    <button  ng-controller="itemsListCtrl" id="cart_list_icon1" ng-click="viewCart()" class="button-icon button button-clear flaticon-trolley"><i class="badge badge-light header-badge"><span ng-if="cartCount!=0">{{cartCount}}</span></i></button>
  </ion-nav-buttons>

  <ion-content id="changePasswordPage" padding="true">
    <form class="forms" name="changePasswordForm" ng-submit="changePasswordForm.$valid && changePassword()">
    <div class="list formList">
      <label class="item item-input item-icon-left" ng-class="{ 'has-error' : changePasswordForm.currentPassword.$error.required && (changePasswordForm.currentPassword.$dirty || submitted), 'valid' : changePasswordForm.currentPassword.$valid   && (changePasswordForm.currentPassword.$dirty || submitted)}">
        <i class="icon mdi mdi-lock-outline"></i>
        <input type="password" name="currentPassword" ng-model="password.current_password"
               required type="password" placeholder="{{'currentPassword' | translate}}">
      </label>
      <label class="item item-input item-icon-left" ng-class="{ 'has-error' : changePasswordForm.newPassword.$error.required && (changePasswordForm.newPassword.$dirty || submitted), 'valid' : changePasswordForm.newPassword.$valid   && (changePasswordForm.newPassword.$dirty || submitted)}">
        <i class="icon mdi mdi-lock"></i>
        <input type="password" name="newPassword"  ng-model="password.new_password"   required placeholder="{{'newPassword' | translate}}">
      </label>
      <label class="item item-input item-icon-left" ng-class="{ 'has-error' : changePasswordForm.confirmNewPassword.$invalid && (changePasswordForm.confirmNewPassword.$dirty || submitted), 'valid' : changePasswordForm.confirmNewPassword.$valid   && (changePasswordForm.confirmNewPassword.$dirty || submitted)}">
        <i class="icon mdi mdi-lock"></i>
        <input type="password" name="confirmNewPassword" compare-to="password.new_password" ng-model="password.confirmNewPassword" required placeholder="{{'confirmNewPassword' | translate}}">
      </label>
      <div class="padding">
        <button class="button button-block button-assertive" type="submit" ng-click="submitted=true">{{'changePassword' | translate}}</button>
      </div>
    </div>
      </form>
  </ion-content>
</ion-view>
